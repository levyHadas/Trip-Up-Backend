{"version":3,"sources":["config/consts.js","services/userService.js","actions/userActions.js","pages/loginPage/LoginPage.js","pages/signupPage/SignupPage.js","pages/homePage/HomePage.js","services/likeJoinService.js","config/googleApiConfig.js","services/tripService.js","actions/tripActions.js","components/tripItemInfo/TripItemInfo.js","components/tripItem/TripItem.js","components/tripList/TripList.js","components/budgetRange/BudgetRange.js","components/tripTypes/TripTypes.js","components/countryDatalist/CountryDatalist.js","components/filterBy/FilterBy.js","pages/tripsPage/TripsPage.js","services/utilService.js","components/placeInfo/PlaceInfo.js","components/googleMaps/MapContainer.js","components/imgGallery/ImgGallery.js","components/membersList/MembersList.js","pages/tripDetails/TripDetails.js","components/itineraryItem/ItineraryItem.js","services/mapService.js","components/googleMaps/LocationSearchInput.js","pages/tripEdit/TripEdit.js","pages/profileDetails/ProfileDetails.js","pages/profileEdit/ProfileEdit.js","components/appNav/AppNav.js","components/appHeader/AppHeader.js","components/AppRouter.js","App.js","serviceWorker.js","reducers/userReducer.js","reducers/tripReducer.js","reducers/utilReducer.js","store/store.js","index.js","assets/logo.png"],"names":["BASE_PATH_TRIP","BASE_PATH_USER","BASE_PATH_MAPS","userService","login","credentials","Axios","post","concat","then","res","data","catch","err","logout","get","Promise","resolve","reject","signup","user","likes","trips","fName","sName","getLoggedUser","updateUser","put","_id","getUsers","filterBy","queryStr","usersIds","JSON","stringify","getById","userId","axios","create","withCredentials","history","dispatch","type","payload","savedUser","push","console","log","saveUser","updatedUser","LoginPage","state","username","password","handleInput","ev","_this","setState","Object","defineProperty","target","name","value","handleSubmit","preventDefault","props","objectSpread","react_default","a","createElement","className","onSubmit","this","placeholder","onChange","required","Component","mapDispatchToProps","connect","SignupPage","passwordRepeat","_callee","signedUser","regenerator_default","wrap","_context","prev","next","abrupt","sent","stop","HomePage","react_router_dom","to","loading","loginPage_LoginPage","signupPage_SignupPage","util","updateLikeJoin","trip","some","liked","unshift","currTripId","members","length","maxMembers","status","googleApiConfig","apiKey","tripService","query","tripsIds","key","tripId","save","remove","delete","getEmpty","country","budget","min","max","organizer","createdAt","tripDate","itinerary","description","createTrips","forEach","desc","getTripTypes","getPlaceImg","getTripImgs","allPhotosObjects","place","photos","somePhotos","slice","apply","toConsumableArray","map","photo","photo_reference","tripOrganizer","Date","now","getTime","photoReference","loadTrip","currTrip","saveTrip","tripToSave","savedTrip","TripItemInfo","_ref","onUpdateLikeJoin","react","title","data-action-type","data-trip-id","onClick","bind","TripItem","linkTo","linkToEdit","tripImg","cardClassName","style","backgroundImage","tripItemInfo_TripItemInfo","TripList","_ref$onUpdateLikeJoin","tripItems","tripItem_TripItem","BudgetRange","_this2","js_default","draggableTrack","minValue","maxValue","onChangeComplete","onSetBudget","step","TripTypes","currType","onTypeSelected","tripTypseMap","TripService","option","idx","selected","CountryDatalist","id","countriesMap","countryList","FilterBy","startDate","endDate","setFilter","filterTrips","setBudget","setType","toLowerCase","list","countryDatalist_CountryDatalist","tripTypes_TripTypes","components_budgetRange_BudgetRange","htmlFor","TripPage","actionType","getAttribute","updateUserLikesTrips","saveTripMembersAndLikes","loadTrips","filterBy_FilterBy","tripList_TripList","PureComponent","arguments","undefined","utilService","getRandomIntInclusive","Math","ceil","floor","random","makeId","text","possible","i","charAt","getIconForType","getStarsForRating","rate","Number","toFixed","toDatePickerFormat","timestamp","date","year","getFullYear","month","getMonth","day","getDay","PlaceInfo","placeInfo","url","website","typesMap","types","reviews","reviewsMap","review","time","toLocaleDateString","lastDot","lastIndexOf","author_name","formatted_address","href","rel","rating","MapContainer","_Component","_getPrototypeOf2","classCallCheck","_len","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","center","showInfo","selectedPlace","onInfoWindowClose","infoWindow","activeMarker","onMarkerClicked","marker","inherits","createClass","initial","navigator","geolocation","getCurrentPosition","location","lat","coords","latitude","lng","longitude","geometry","_this3","markersMap","dist","place_id","position","icon","paths","google","zoom","width","height","initialCenter","onMapClicked","onClose","visible","placeInfo_PlaceInfo","strokeColor","strokeOpacity","strokeWeight","fillColor","fillOpacity","GoogleApiWrapper","ImgGallery","imgs","currImgIdx","nextImg","nextIdx","prevImg","prevtIdx","imgSrc","src","alt","MembersList","hideMembers","membersMap","member","img","TripDetails","showMembers","deleteTrip","assertThisInitialized","goBack","handleLikeJoin","match","params","loadTripMembers","tripImgs","itineraryList","UtilService","membersList_MembersList","components_imgGallery_ImgGallery","components_googleMaps_MapContainer","users","ItineraryItem","onRemoveFromItinerary","mapService","itineraryToCoords","geocoder","maps","Geocoder","geoCodePlace","coord","all","getPlaceInfo","placeId","strParams","result","_infoRequest","placeid","fields","info","error","geocode","address","results","LocationSearchInput","handleChange","handleSelect","geocodeByAddress","onPlaceSelected","includes","setTimeout","react_places_autocomplete_dist_default","onSelect","getInputProps","suggestions","getSuggestionItemProps","suggestion","assign","React","TripEdit","setCountry","tripDateErr","isNaN","tripToSubmit","itineraryErr","addToItinerary","newPlace","countryNames","address_components","pop","long_name","stateNames","MapService","removeFromItinerary","idxToRemove","findIndex","splice","tripToEdit","itineraryMap","itineraryItem_ItineraryItem","googleMaps_LocationSearchInput","defaultPlace","MemberDetails","userSevice","profile","profileUser","UserEdit","navOpen","loggedUser","navClassName","navLinkClicked","activeClassName","isMobile","window","document","body","clientWidth","toggleNav","logoImg","appNav_AppNav","AppRouter","appHeader_AppHeader","react_router","exact","path","component","TripsPage","ProfileEdit","ProfileDetails","App","components_AppRouter","Boolean","hostname","initialState","reducers","combineReducers","action","newNavState","middleware","applyMiddleware","thunk","store","createStore","ReactDOM","render","es","src_App","getElementById","serviceWorker","ready","registration","unregister","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/main.ab086fc8.chunk.js","sourcesContent":["export const BASE_PATH = (process.env.NODE_ENV !== 'development')\r\n    ? '/api/'\r\n    : 'http://localhost:3003/api/'\r\n\r\nexport const BASE_PATH_TRIP = (process.env.NODE_ENV !== 'development')\r\n    ? 'api/trip'\r\n    : 'http://localhost:3003/api/trip'\r\n\r\n\r\nexport const BASE_PATH_USER = (process.env.NODE_ENV !== 'development')\r\n    ? 'api/user'\r\n    : 'http://localhost:3003/api/user'\r\n\r\nexport const BASE_PATH_MAPS = (process.env.NODE_ENV !== 'development')\r\n    ? 'api/trip/placeinfo'\r\n    : 'http://localhost:3003/api/trip/placeinfo'","import axios from 'axios'\r\nimport { BASE_PATH_USER } from '../config/consts'\r\n\r\n\r\nexport default {\r\n    login,\r\n    logout,\r\n    signup,\r\n    getLoggedUser,\r\n    updateUser,\r\n    getUsers,\r\n    getById\r\n}\r\n\r\nconst Axios = axios.create({\r\n    withCredentials: true,\r\n})\r\n\r\nfunction updateUser(user) {\r\n    return Axios.put(`${BASE_PATH_USER}/${user._id}`, user)\r\n        .then(res => res.data) \r\n        .catch(err => {throw (err)}) \r\n}\r\n\r\nfunction signup(user) {\r\n    user.likes = []\r\n    user.trips = []\r\n    if (!user.fName) user.fName = ''\r\n    if (!user.sName) user.sName = ''\r\n    return Axios.post(`${BASE_PATH_USER}`, user)\r\n        .then(res => {\r\n            return res.data})\r\n        .catch(err => {throw (err)}) \r\n}\r\n\r\nfunction login(credentials) {\r\n    return Axios.post(`${BASE_PATH_USER}/login`, credentials)\r\n        .then(res => res.data)\r\n        .catch(err => {throw (err)})\r\n}\r\n\r\nfunction getLoggedUser() {\r\n    return Axios.get(`${BASE_PATH_USER}/loggedUser`)\r\n        .then(res => {\r\n            if (!res.data) return null \r\n            return res.data\r\n        })\r\n}\r\n\r\nfunction getById(userId) {\r\n    if (!userId) return null\r\n    return Axios.get(`${BASE_PATH_USER}/${userId}`)\r\n        .then(res => res.data)\r\n        .catch(err => {throw (err)})\r\n}\r\n\r\nfunction logout() {\r\n    return Axios.get(`${BASE_PATH_USER}/logout`)\r\n        .then(() => Promise.resolve())\r\n        .catch(err => Promise.reject(err))\r\n}\r\n\r\nfunction getUsers(filterBy) {\r\n    var queryStr = ''\r\n    if (filterBy.usersIds) queryStr = `usersIds=${JSON.stringify(filterBy.usersIds)}`\r\n    // else\r\n    return Axios.get(`${BASE_PATH_USER}?${queryStr}`)\r\n        .then(res => res.data)\r\n        .catch(err => {throw (err)})\r\n}\r\n\r\n\r\n","\r\nimport userService from '../services/userService'\r\n\r\nexport function login(user, history) {\r\n    return (dispatch) => { //it recives dispatch from the thunk middleware\r\n        dispatch ({type:'loading', payload:true})\r\n        userService.login(user)\r\n        .then(savedUser => {\r\n            dispatch ({type:'setCurrUser', payload:savedUser})\r\n            dispatch ({type:'loading', payload:false})\r\n            history.push(`/trip`)\r\n        })\r\n        .catch(err => {\r\n            dispatch ({type:'loading', payload:false})\r\n            dispatch ({type:'setCurrUser', payload:{}})\r\n            console.log(err)\r\n            //need to tell user login is incorrect\r\n        } )\r\n    }\r\n}\r\n\r\nexport function signup(user) {\r\n    return (dispatch) => { //it recives dispatch from the thunk middleware\r\n        dispatch ({type:'loading', payload:true})\r\n        return userService.signup(user)\r\n        .then(signedUser => signedUser)\r\n    }\r\n}\r\n\r\nexport function saveUser(user) {\r\n    return (dispatch) => {\r\n        dispatch ({type:'loading', payload:true})\r\n        return userService.updateUser(user)\r\n            .then(updatedUser => {\r\n                dispatch ({type:'updateUser', payload:updatedUser})\r\n                dispatch ({type:'loading', payload:false})            \r\n            })\r\n            .catch(err => {throw(err)})\r\n    }\r\n}\r\nexport function updateUserLikesTrips(user) {\r\n    return (dispatch) => {\r\n        return userService.updateUser(user)\r\n            .then(updatedUser => dispatch ({type:'updateUserLikesTrips', payload:updatedUser}))\r\n            .catch(err => {throw(err)})\r\n    }\r\n}\r\n\r\nexport function loadUser() {\r\n    return (dispatch) => { //it recives dispatch from the thunk middleware\r\n        dispatch ({type:'loading', payload:true})\r\n        userService.getLoggedUser()\r\n            .then(user => {\r\n                if (user) dispatch ({type:'setCurrUser', payload:user})\r\n                dispatch ({type:'loading', payload:false})\r\n            })\r\n        }\r\n    }\r\n    export function logout() {\r\n        return (dispatch) => { //it recives dispatch from the thunk middleware\r\n            userService.logout()\r\n            .then(() => {\r\n                dispatch ({type:'setCurrUser', payload:{_id:null, username:'', password:''}})\r\n            })\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// function _updateUser(user) {\r\n//     return (dispatch) => {\r\n//         dispatch ({type:'loading', payload:true})\r\n//         return UserService.updateUser(user)\r\n//             .then(updatedUser => {\r\n//                 dispatch ({type:'updateUser', payload:updatedUser})\r\n//                 dispatch ({type:'loading', payload:false})\r\n            \r\n//                 // increaseLikedForTrip()\r\n//             })\r\n//             .catch((err) => {throw(err)})\r\n//     }\r\n// }\r\n\r\n// export function addTripToLiked(user, tripId) {\r\n//     if (user.likes.some((like) => like === tripId)) {\r\n//         return;\r\n//     }\r\n//     user.likes.unshift(tripId)\r\n//     return _updateUser(user)\r\n// }\r\n\r\n// export function addToUserTrips(user, tripId) {\r\n//     user.trips.unshift(tripId)\r\n//     _updateUser(user)\r\n//     //add to trip\r\n// }\r\n\r\n","import { connect } from 'react-redux'\r\nimport React, { Component } from 'react'\r\n\r\nimport { login } from '../../actions/userActions'\r\n\r\nclass LoginPage extends Component {\r\n    \r\n    state = {username:'', password: ''}\r\n  \r\n    handleInput = (ev) => {\r\n        this.setState({[ev.target.name]: ev.target.value})\r\n    }\r\n\r\n    handleSubmit = (ev) => {\r\n        ev.preventDefault()\r\n        if (!this.state.username || !this.state.password) return;\r\n        this.props.login({...this.state}, this.props.history)\r\n    }\r\n    \r\n    render() {\r\n        return (\r\n            <section className=\"login\">\r\n                <form className=\"login-form flex column align-center\"onSubmit={this.handleSubmit}>\r\n                    <input className=\"login-input\" type=\"text\" \r\n                        name=\"username\"\r\n                        placeholder=\"Username\"\r\n                        value={this.state.username} \r\n                        onChange={this.handleInput}\r\n                        required/>\r\n                    <input className=\"login-input\" type=\"password\"\r\n                        name=\"password\"\r\n                        placeholder=\"Password\"\r\n                        value={this.state.password} \r\n                        onChange={this.handleInput}\r\n                        required/>\r\n                    <button className=\"btn login-btn\">Login</button>\r\n                </form>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = { login }\r\n\r\nexport default connect(null, mapDispatchToProps)(LoginPage) //with:\r\n\r\n","import { connect } from 'react-redux'\r\nimport React, { Component } from 'react'\r\n\r\nimport { signup, login } from '../../actions/userActions'\r\n\r\nclass SignupPage extends Component {\r\n    \r\n    state = {username:'', password: '', passwordRepeat:''}\r\n    \r\n    handleInput = (ev) => {\r\n        this.setState({[ev.target.name]: ev.target.value})\r\n    }\r\n\r\n    handleSubmit = async(ev) => {\r\n        ev.preventDefault()\r\n        if (!this.state.username || !this.state.password)  return;\r\n        if (this.state.password !== this.state.passwordRepeat) return;\r\n        const signedUser = await this.props.signup({username:this.state.username, password: this.state.password})\r\n        this.props.login(signedUser, this.props.history)\r\n    }\r\n    \r\n    render() {\r\n        return (\r\n            <section className=\"signup\">\r\n                <form className=\"login-form flex column align-center\"\r\n                        onSubmit={this.handleSubmit}>\r\n                    <input className=\"login-input\" type=\"text\" \r\n                        placeholder=\"Username\"\r\n                        name=\"username\"\r\n                        value={this.state.username} \r\n                        onChange={this.handleInput}\r\n                        required/>\r\n                    <input className=\"login-input\" type=\"password\"\r\n                        placeholder=\"Password\"\r\n                        name=\"password\"\r\n                        value={this.state.password} \r\n                        onChange={this.handleInput}\r\n                        required/>\r\n                    <input  className=\"login-input\" type=\"password\"\r\n                        placeholder=\"Password Repeat\"\r\n                        name=\"passwordRepeat\"\r\n                        value={this.state.passwordRepeat} \r\n                        onChange={this.handleInput}\r\n                        required/>\r\n                    <button className=\"btn login-btn\">Sign Up</button>\r\n                </form>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = { signup, login }\r\n\r\nexport default connect(null, mapDispatchToProps)(SignupPage) //with:\r\n","import { connect } from 'react-redux'\r\nimport React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport LoginPage from '../loginPage/LoginPage'\r\nimport SignupPage from '../signupPage/SignupPage'\r\nimport './HomePage.scss'\r\n\r\nclass HomePage extends Component {\r\n      \r\n    render() {\r\n        return (\r\n            <section className=\"home-container\">\r\n                <Link to=\"/trip\" className=\"find-a-trip-btn\">find a trip</Link>\r\n                {!this.props.loading && \r\n                <div className=\"signup-login-container flex\">\r\n                    {!this.props.user.username && \r\n                        <LoginPage history={this.props.history}/>}\r\n                    {!this.props.user.username && \r\n                        <SignupPage history={this.props.history}/>}\r\n                </div>}\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps (state) {\r\n    return { user: state.user,\r\n             loading: state.util.loading }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps)(HomePage)\r\n","\r\n\r\nexport function updateLikeJoin(type, user, trip) {\r\n    if (type === 'like') {\r\n        if (user.likes.some(liked => liked === trip._id)) return;\r\n        user.likes.unshift(trip._id)\r\n        trip.likes++\r\n    }\r\n    else {\r\n        if (user.trips.some(currTripId => currTripId === trip._id)) return;\r\n        if (trip.members.length >= trip.maxMembers) return;\r\n        user.trips.push(trip._id)\r\n        trip.members.push(user._id)\r\n        if (trip.members.length === trip.maxMembers) {\r\n            trip.status = 'closed'\r\n        }\r\n    }\r\n    \r\n}\r\n\r\n\r\n","export const googleApiConfig = {\r\n    apiKey:'AIzaSyAPJM2oE25WHuKP4X0Q_qC5fJ1W8IrImnc'\r\n}\r\n","import axios from 'axios'\r\nimport trips from '../data/tripsData'\r\nimport userService from './userService.js';\r\nimport { googleApiConfig } from '../config/googleApiConfig'\r\nimport { BASE_PATH_TRIP } from '../config/consts'\r\n\r\n\r\nconst Axios = axios.create({\r\n    withCredentials: true,\r\n})\r\n\r\nexport default {\r\n    query,\r\n    getById,\r\n    save,\r\n    remove,\r\n    getEmpty,\r\n    createTrips,\r\n    getTripTypes,\r\n    getPlaceImg,\r\n    getTripImgs\r\n}\r\n\r\nfunction createTrips() {\r\n    trips.forEach(trip => {\r\n        trip.desc = 'Lorem ipsum dolor sit amet consectetur adipisicing elit. Maiores atque at odio harum natus voluptate aliquam sapiente mollitia ad molestias quidem, excepturi impedit itaque neque doloribus ex pariatur iste animi.'\r\n        save(trip)\r\n    })\r\n}\r\n\r\nfunction query(filterBy) {\r\n    var queryStr = '?'\r\n    if (filterBy) {\r\n        if (filterBy.tripsIds) queryStr = `tripsIds=${JSON.stringify(filterBy.tripsIds)}`\r\n        else {\r\n            for (var key in filterBy) {\r\n                if (typeof(filterBy[key]) === 'object') {\r\n                    if (!filterBy[key]) continue\r\n                    queryStr += `${key}=${JSON.stringify(filterBy[key])}&`\r\n                }\r\n                else queryStr += `${key}=${filterBy[key]}&`\r\n            }\r\n        }\r\n    }\r\n    return Axios.get(`${BASE_PATH_TRIP}/${queryStr}`)\r\n        .then(res => res.data)\r\n        .catch(err => {throw (err)})\r\n}\r\n\r\n\r\nfunction getById(tripId) {\r\n    if (!tripId) return null\r\n    return Axios.get(`${BASE_PATH_TRIP}/${tripId}`)\r\n        .then(res => res.data)\r\n        .catch(err => {throw (err)})\r\n}\r\n\r\nasync function save(trip) {\r\n    trip.createdAt = Date.now()\r\n    trip.tripDate = new Date(trip.tripDate).getTime()\r\n    if (trip.type === 'Type') trip.type = ''\r\n    if (trip._id) {\r\n        return Axios.put(`${BASE_PATH_TRIP}/${trip._id}`, trip)\r\n            .then(res => res.data)\r\n            .catch(err => {throw (err)})\r\n    }\r\n    else {\r\n        let tripOrganizer = await userService.getLoggedUser()\r\n        delete tripOrganizer.likes\r\n        delete tripOrganizer.trips //just want to save the name and the img\r\n        trip.organizer = tripOrganizer\r\n        if (!trip.desc) trip.desc = 'Lorem ipsum dolor sit amet consectetur adipisicing elit. Maiores atque at odio harum natus voluptate aliquam sapiente mollitia ad molestias quidem, excepturi impedit itaque neque doloribus ex pariatur iste animi.'\r\n        return Axios.post(`${BASE_PATH_TRIP}`, trip)\r\n            .then(res => res.data)\r\n            .catch(err => {throw (err)})\r\n    }\r\n}\r\n\r\n\r\nfunction remove(tripId) {\r\n    return Axios.delete(`${BASE_PATH_TRIP}/${tripId}`)\r\n        .then(res => res.data)\r\n        .catch(err => {throw (err)})\r\n}\r\n\r\nfunction getEmpty() {\r\n    return {\r\n        \"country\": \"\",\r\n        \"budget\": {min:0, max:1500},\r\n        \"type\": \"\",\r\n        \"maxMembers\": \"\",\r\n        \"organizer\": {},\r\n        \"members\": [],\r\n        \"status\": \"open\",\r\n        \"createdAt\":\"\",\r\n        \"likes\": 1,\r\n        \"tripDate\":\"\",\r\n        \"itinerary\":[],\r\n        \"description\":''\r\n    }\r\n\r\n}\r\nfunction getTripTypes() {\r\n    return ['Type','Hiking', 'Shoping', 'Music', 'Art', 'Photography', 'Ski', 'Food', 'Other']\r\n}\r\n\r\nfunction getPlaceImg(photoReference) {\r\n    return `https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=${photoReference}&key=${googleApiConfig.apiKey}`\r\n}\r\n\r\nfunction getTripImgs(trip) {\r\n    var allPhotosObjects = []\r\n    trip.itinerary.forEach(place => {\r\n        if (place.photos) {\r\n            var somePhotos = (place.photos).slice(0,2)\r\n            allPhotosObjects.push(...somePhotos)\r\n        }\r\n    })\r\n    return allPhotosObjects.map(photo => {\r\n        return getPlaceImg(photo.photo_reference)})\r\n}\r\n\r\n\r\n","\r\nimport tripService from '../services/tripService'\r\nimport userService from '../services/userService'\r\n\r\nexport function loadTrips(filterBy={}) {\r\n    return (dispatch) => { //it recives dispatch from the thunk middleware\r\n        dispatch ({type:'loading', payload:true})\r\n        tripService.query(filterBy)\r\n            .then(trips => {\r\n                dispatch ({type:'setTrips', payload:trips})\r\n                dispatch ({type:'loading', payload:false})\r\n            })\r\n    }\r\n}\r\n\r\nexport function loadTrip(tripId) {\r\n    return (dispatch) => { //it recives dispatch from the thunk middleware\r\n        if (!tripId) dispatch ({type:'setCurrTrip', payload:{}})\r\n        else {\r\n            dispatch ({type:'loading', payload:true})\r\n            return tripService.getById(tripId)\r\n            .then(currTrip => {\r\n                dispatch ({type:'setCurrTrip', payload:currTrip})\r\n                dispatch ({type:'loading', payload:false})\r\n                return currTrip\r\n                })\r\n        }\r\n    }\r\n}\r\nexport function loadTripMembers(currTrip) {\r\n    return (dispatch) => { \r\n        dispatch ({type:'loading', payload:true})\r\n        return userService.getUsers({usersIds:currTrip.members})\r\n            .then(users => {\r\n                currTrip.members = users\r\n                dispatch ({type:'setCurrTrip', payload:currTrip})\r\n                dispatch ({type:'loading', payload:false})\r\n            })\r\n    }\r\n}\r\n\r\nexport function deleteTrip(tripId, { history }) {\r\n    return (dispatch) => { //it recives dispatch from the thunk middleware\r\n        dispatch ({type:'loading', payload:true})\r\n        tripService.remove(tripId)\r\n            .then(() => {\r\n                dispatch ({type:'setCurrTrip', payload:null})\r\n                dispatch ({type:'loading', payload:false})\r\n                history.push(`/trip`)\r\n            })\r\n    }\r\n}\r\n\r\nexport function saveTrip(tripToSave) {\r\n    return (dispatch) => { //it recives dispatch from the thunk middleware\r\n        dispatch ({type:'loading', payload:true})\r\n        return tripService.save(tripToSave)\r\n        .then(savedTrip => {\r\n            dispatch ({type:'setCurrTrip', payload:savedTrip})\r\n            dispatch ({type:'loading', payload:false})\r\n        })\r\n        .catch ((err) => {throw(err)})\r\n    }\r\n}\r\n\r\n//no loading on this update type!!\r\nexport function saveTripMembersAndLikes(tripToSave) {\r\n    return (dispatch) => { //it recives dispatch from the thunk middleware\r\n        return tripService.save(tripToSave)\r\n        .then(savedTrip => {\r\n            dispatch ({type:'setCurrTrip', payload:savedTrip})\r\n            tripService.query({})\r\n            .then(trips => {\r\n                dispatch ({type:'setTrips', payload:trips})\r\n            })\r\n        })\r\n        .catch ((err) => {throw(err)})\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// export function signup(user) {\r\n//     return (dispatch) => { //it recives dispatch from the thunk middleware\r\n//         return UserService.signup(user)\r\n//             .then(signedUser => signedUser)\r\n//     }\r\n// }\r\n// export function loadUser() {\r\n//     return (dispatch) => { //it recives dispatch from the thunk middleware\r\n//         UserService.getLoggedUser()\r\n//             .then(user => {\r\n//                 console.log('user', user)\r\n//                 if (user) dispatch ({type:'setCurrUser', payload:user})\r\n//             })\r\n//     }\r\n// }\r\n// export function logout() {\r\n//     return (dispatch) => { //it recives dispatch from the thunk middleware\r\n//         UserService.logout()\r\n//             .then(() => {\r\n//                 dispatch ({type:'setCurrUser', payload:{username:'', password:''}})\r\n//             })\r\n//     }\r\n// }\r\n\r\n","import React, { Fragment } from 'react'\r\n\r\nfunction TripItemInfo ({ trip, user, onUpdateLikeJoin }) {        \r\n    return (\r\n        <div className=\"right-info-container flex align-center\">\r\n        <span>{trip.likes}</span>\r\n        {user._id && user._id !== trip.organizer._id && \r\n        <Fragment>\r\n          <i className=\"far fa-thumbs-up\" title=\"like\" \r\n            data-action-type=\"like\" data-trip-id={trip._id} \r\n            onClick={onUpdateLikeJoin.bind(this)}> \r\n          </i>\r\n          <span>{trip.members.length}</span>\r\n          <i className=\"fas fa-user-plus\" title=\"Join\" \r\n            data-action-type=\"join\" data-trip-id={trip._id} \r\n            onClick={onUpdateLikeJoin.bind(this)}>\r\n          </i>\r\n        </Fragment>}\r\n        {(!user._id || user._id === trip.organizer._id) &&\r\n        <Fragment>\r\n          <i className=\"far fa-thumbs-up no-user\"></i>\r\n            {/*ev is passed automaticly as last parameter in bind  */}\r\n          <span>{trip.members.length}</span>\r\n          <i className=\"fas fa-users\" title=\"Joined\"></i>\r\n        </Fragment>}\r\n      </div>)\r\n   \r\n}\r\n\r\nexport default TripItemInfo","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport './TripItem.scss'\r\nimport tripService from '../../services/tripService';\r\nimport TripItemInfo from '../tripItemInfo/TripItemInfo'\r\n\r\n//this component should be broken down to 3 components:\r\n//trip item which holds:\r\n//trip status display\r\n//trip actions display\r\n//trip by me display\r\nfunction TripItem ({ trip, user, onUpdateLikeJoin }) {\r\n  const linkTo =`/trip/${trip._id}`\r\n  const linkToEdit =`/trip/edit/${trip._id}`\r\n  var tripImg = tripService.getPlaceImg(trip.itinerary[0].photos[0].photo_reference)\r\n  var cardClassName = 'trip-item-card'\r\n  if (trip.status === 'closed') cardClassName += ' closed'\r\n  if (trip.organizer._id === user._id) cardClassName += ' mine'\r\n    return (\r\n      <li className={cardClassName}>\r\n        <h2 className=\"trip-title\">{trip.country}</h2>    \r\n        <Link to={linkTo}>\r\n          {tripImg &&\r\n          <div className=\"trip-item-inner\" \r\n            style ={ { backgroundImage: `url(\"${tripImg}\")` } }>\r\n          </div>}\r\n        </Link>\r\n        {trip && trip.members &&\r\n        <div className=\"action-info-container flex align-center space-between\">\r\n          <div className=\"left-action-container\">\r\n            {trip.organizer._id === user._id &&\r\n            <Link to={linkToEdit}><i className=\"far fa-edit\"></i></Link>} \r\n          </div>\r\n        {onUpdateLikeJoin &&\r\n        <TripItemInfo trip={trip} user={user} onUpdateLikeJoin={onUpdateLikeJoin}/>}\r\n        </div>}\r\n      </li>\r\n    )\r\n   \r\n}\r\n\r\n\r\nexport default TripItem","import React from 'react'\r\nimport TripItem from '../tripItem/TripItem'\r\nimport './TripList.scss'\r\n\r\nfunction TripList ({ trips, user, onUpdateLikeJoin = null }) {\r\n    const tripItems = trips.map(trip => {\r\n        return <TripItem key={trip._id} trip={trip} \r\n                    user={user} \r\n                    onUpdateLikeJoin={onUpdateLikeJoin}/>})\r\n        \r\n    return <ul className=\"trip-list\">{tripItems}</ul>\r\n   \r\n}\r\n\r\nexport default TripList","import React, { Component } from 'react'\r\nimport InputRange from 'react-input-range'\r\nimport './BudgetRange.scss'\r\n \r\nclass BudgetRange extends Component {\r\n    state = {min:0, max:1000}\r\n    componentDidMount() {\r\n        this.setState({min:this.props.budget.min, max:this.props.budget.max})\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"range-slider\">\r\n                <InputRange className=\"range-slider\"\r\n                draggableTrack\r\n                minValue= {0}\r\n                maxValue={10000}\r\n                onChange={value => this.setState({...value})}\r\n                onChangeComplete={this.props.onSetBudget}\r\n                step={100}\r\n                value={this.state}/>\r\n            </div>)\r\n        }\r\n}\r\n\r\nexport default BudgetRange\r\n \r\n","import React from 'react'\r\nimport TripService from '../../services/tripService'\r\n\r\n\r\nfunction TripTypes({ currType, onTypeSelected, className }) {\r\n    const tripTypes = TripService.getTripTypes()\r\n    const tripTypseMap = tripTypes.map((option, idx) => {\r\n        if (currType === option) {\r\n            return <option name={option} value={option} \r\n                        key={idx} selected>{option}\r\n                    </option>\r\n        } else return <option name={option} value={option} key={idx}>{option}</option>\r\n    })\r\n    return ( \r\n        <select className={className} placeholder=\"Type\" \r\n            onChange={onTypeSelected}>\r\n            {tripTypseMap}\r\n        </select>)\r\n}\r\nexport default TripTypes","import React from 'react'\r\n\r\nfunction CountryDatalist({ id }) {\r\n\tconst countriesMap = countryList.map((country, idx) => {\r\n\t\treturn <option value={country} key={idx}/>\r\n\t})\r\n\treturn <datalist id={id}>{countriesMap}</datalist>\r\n}\r\nexport default CountryDatalist \r\n\r\n\r\nvar countryList = [\"Afghanistan\",\"Albania\",\"Algeria\",\"Andorra\",\"Angola\",\"Anguilla\",\"Antigua &amp; Barbuda\",\"Argentina\",\"Armenia\",\"Aruba\",\"Australia\",\"Austria\",\"Azerbaijan\",\"Bahamas\"\r\n\t,\"Bahrain\",\"Bangladesh\",\"Barbados\",\"Belarus\",\"Belgium\",\"Belize\",\"Benin\",\"Bermuda\",\"Bhutan\",\"Bolivia\",\"Bosnia &amp; Herzegovina\",\"Botswana\",\"Brazil\",\"British Virgin Islands\"\r\n\t,\"Brunei\",\"Bulgaria\",\"Burkina Faso\",\"Burundi\",\"Cambodia\",\"Cameroon\",\"Canada\",\"Cape Verde\",\"Cayman Islands\",\"Chad\",\"Chile\",\"China\",\"Colombia\",\"Congo\",\"Cook Islands\",\"Costa Rica\"\r\n\t,\"Cote D Ivoire\",\"Croatia\",\"Cruise Ship\",\"Cuba\",\"Cyprus\",\"Czech Republic\",\"Denmark\",\"Djibouti\",\"Dominica\",\"Dominican Republic\",\"Ecuador\",\"Egypt\",\"El Salvador\",\"Equatorial Guinea\"\r\n\t,\"Estonia\",\"Ethiopia\",\"Falkland Islands\",\"Faroe Islands\",\"Fiji\",\"Finland\",\"France\",\"French Polynesia\",\"French West Indies\",\"Gabon\",\"Gambia\",\"Georgia\",\"Germany\",\"Ghana\"\r\n\t,\"Gibraltar\",\"Greece\",\"Greenland\",\"Grenada\",\"Guam\",\"Guatemala\",\"Guernsey\",\"Guinea\",\"Guinea Bissau\",\"Guyana\",\"Haiti\",\"Honduras\",\"Hong Kong\",\"Hungary\",\"Iceland\",\"India\"\r\n\t,\"Indonesia\",\"Iran\",\"Iraq\",\"Ireland\",\"Isle of Man\",\"Israel\",\"Italy\",\"Jamaica\",\"Japan\",\"Jersey\",\"Jordan\",\"Kazakhstan\",\"Kenya\",\"Kuwait\",\"Kyrgyz Republic\",\"Laos\",\"Latvia\"\r\n\t,\"Lebanon\",\"Lesotho\",\"Liberia\",\"Libya\",\"Liechtenstein\",\"Lithuania\",\"Luxembourg\",\"Macau\",\"Macedonia\",\"Madagascar\",\"Malawi\",\"Malaysia\",\"Maldives\",\"Mali\",\"Malta\",\"Mauritania\"\r\n\t,\"Mauritius\",\"Mexico\",\"Moldova\",\"Monaco\",\"Mongolia\",\"Montenegro\",\"Montserrat\",\"Morocco\",\"Mozambique\",\"Namibia\",\"Nepal\",\"Netherlands\",\"Netherlands Antilles\",\"New Caledonia\"\r\n\t,\"New Zealand\",\"Nicaragua\",\"Niger\",\"Nigeria\",\"Norway\",\"Oman\",\"Pakistan\",\"Palestine\",\"Panama\",\"Papua New Guinea\",\"Paraguay\",\"Peru\",\"Philippines\",\"Poland\",\"Portugal\"\r\n\t,\"Puerto Rico\",\"Qatar\",\"Reunion\",\"Romania\",\"Russia\",\"Rwanda\",\"Saint Pierre &amp; Miquelon\",\"Samoa\",\"San Marino\",\"Satellite\",\"Saudi Arabia\",\"Senegal\",\"Serbia\",\"Seychelles\"\r\n\t,\"Sierra Leone\",\"Singapore\",\"Slovakia\",\"Slovenia\",\"South Africa\",\"South Korea\",\"Spain\",\"Sri Lanka\",\"St Kitts &amp; Nevis\",\"St Lucia\",\"St Vincent\",\"St. Lucia\",\"Sudan\"\r\n\t,\"Suriname\",\"Swaziland\",\"Sweden\",\"Switzerland\",\"Syria\",\"Taiwan\",\"Tajikistan\",\"Tanzania\",\"Thailand\",\"Timor L'Este\",\"Togo\",\"Tonga\",\"Trinidad &amp; Tobago\",\"Tunisia\"\r\n\t,\"Turkey\",\"Turkmenistan\",\"Turks &amp; Caicos\",\"Uganda\",\"Ukraine\",\"United Arab Emirates\",\"United Kingdom\",\"United States\",\"United States Minor Outlying Islands\",\"Uruguay\"\r\n\t,\"Uzbekistan\",\"Venezuela\",\"Vietnam\",\"Virgin Islands (US)\",\"Yemen\",\"Zambia\",\"Zimbabwe\"]","import React, { Component } from 'react'\r\nimport BudgetRange from '../budgetRange/BudgetRange'\r\nimport TripTypes from '../tripTypes/TripTypes'\r\nimport CountryDatalist from '../countryDatalist/CountryDatalist'\r\nimport './filterBy.scss'\r\n\r\n\r\nclass FilterBy extends Component {\r\n    \r\n    state = {budget:null, country:'', type:'', status:'', startDate:'', endDate:''}\r\n\r\n    setFilter = (ev) => {\r\n        // var value\r\n        // if (typeof(ev.target.value) === 'number') {\r\n        //     value = +ev.target.value\r\n        // }\r\n        // else value = ev.target.value\r\n        const value = ev.target.value\r\n        this.setState({ [ev.target.name]: value })\r\n        this.props.filterTrips({...this.state, [ev.target.name]: value })\r\n    } \r\n    setBudget = (budget) => {\r\n        this.setState({budget})\r\n        this.props.filterTrips({...this.state, budget})\r\n    }\r\n    setType = (ev) => {\r\n        var type = ev.target.value\r\n        this.setState({type})\r\n        if (type.toLowerCase() === 'type') type = ''\r\n        this.props.filterTrips({...this.state, type})\r\n    }\r\n \r\n    render() {\r\n        return (\r\n            <section className=\"filter-container\">\r\n                <h4>Filter:</h4>\r\n                <div className=\"main-filters-container flex align-center space-between\">\r\n                    <input list=\"country-filter\" type=\"list\" \r\n                        name=\"country\" \r\n                        value={this.state.country}\r\n                        placeholder=\"country\"\r\n                        onChange={this.setFilter}/>\r\n                    <CountryDatalist id=\"country-filter\"></CountryDatalist>\r\n                    <div className=\"dates-container\">\r\n                                        \r\n                    <span>Between </span>\r\n                    <input type=\"date\" name=\"startDate\" \r\n                        onChange={this.setFilter} \r\n                        value={this.state.startDate}/> \r\n                    <span> and </span>\r\n                    <input type=\"date\" name=\"endDate\" \r\n                        onChange={this.setFilter}\r\n                        value={this.state.endDate}/>\r\n                    </div>\r\n                </div>\r\n                <div className=\"more-filters-container flex align-center space-between\">       \r\n                    <TripTypes className=\"filter-type\" \r\n                        currType={this.state.type}\r\n                        onTypeSelected={this.setType}/>\r\n                    <BudgetRange onSetBudget={this.setBudget} \r\n                        budget={this.state.budget || {min:0, max:5000}}/>\r\n                    <span className=\"trip-status flex align-center space-between\">\r\n                        <label htmlFor=\"status-open\">Open</label>\r\n                            <input type=\"radio\" name=\"status\" id=\"status-open\"\r\n                                value=\"open\" onChange={this.setFilter}/>\r\n                        <label htmlFor=\"status-closed\">Close</label>\r\n                            <input type=\"radio\" name=\"status\" id=\"status-closed\"\r\n                                value=\"close\" onChange={this.setFilter}/>\r\n                        <label htmlFor=\"status-all\">All</label>\r\n                            <input type=\"radio\" name=\"status\" id=\"status-all\"\r\n                                value=\"\" onChange={this.setFilter}/>\r\n                    </span>\r\n                </div>\r\n\r\n            \r\n            </section>\r\n        )\r\n    }\r\n        \r\n   \r\n}\r\n\r\nexport default FilterBy","import { connect } from 'react-redux'\r\nimport React, { PureComponent } from 'react'\r\n\r\nimport { updateUserLikesTrips } from '../../actions/userActions'\r\nimport { updateLikeJoin } from '../../services/likeJoinService'\r\nimport { loadTrips, saveTripMembersAndLikes } from '../../actions/tripActions'\r\nimport TripList from '../../components/tripList/TripList'\r\nimport FilterBy from '../../components/filterBy/FilterBy'\r\nimport tripService from '../../services/tripService'\r\n// import userService from '../../services/userService'\r\nimport './TripsPage.scss'\r\n\r\n\r\nclass TripPage extends PureComponent {\r\n    \r\n    componentDidMount() {\r\n        // this.props.loadTrips({})\r\n        this.props.loadTrips()\r\n    }\r\n \r\n  \r\n\r\n    onUpdateLikeJoin = async(ev) => {\r\n        const actionType = ev.target.getAttribute('data-action-type')\r\n        const tripId = ev.target.getAttribute('data-trip-id')\r\n        const trip = await tripService.getById(tripId) \r\n        \r\n        updateLikeJoin(actionType, this.props.user, trip)\r\n        this.props.updateUserLikesTrips(this.props.user)\r\n        this.props.saveTripMembersAndLikes(trip)    \r\n    }\r\n    filterTrips = (filterBy) => {\r\n        this.props.loadTrips(filterBy)\r\n    }\r\n    \r\n    render() {\r\n        return (\r\n            <section className=\"trips\">\r\n                <FilterBy filterTrips={this.filterTrips}/>\r\n                {!this.props.loading && \r\n                <TripList trips={this.props.trips} user={this.props.user} \r\n                    onUpdateLikeJoin={this.onUpdateLikeJoin}/>}\r\n            <div className=\"app-bg-img\"></div>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps (state) {\r\n    return { trips: state.trip.trips, loading:state.util.loading, user:state.user }\r\n}\r\nconst mapDispatchToProps = {loadTrips, updateUserLikesTrips, saveTripMembersAndLikes: saveTripMembersAndLikes}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(TripPage)\r\n","\r\nimport React from 'react'\r\n\r\nexport default {\r\n    getRandomIntInclusive,\r\n    makeId,\r\n    getIconForType,\r\n    getStarsForRating,\r\n    toDatePickerFormat\r\n}\r\n\r\nfunction toDatePickerFormat(timestamp) {\r\n    const date = new Date(timestamp)\r\n    const year = '' + date.getFullYear()\r\n    let month = '' + date.getMonth()\r\n    if (month < 10) month = '0'+ month\r\n    let day = date.getDay()\r\n    if (day < 10) day = '0'+ day\r\n    return `${year}-${month}-${day}`\r\n}\r\n\r\nfunction getIconForType(type) {\r\n    if (type) type = type.toLowerCase()\r\n    switch (type) {\r\n        case 'hiking':\r\n            return <i className=\"fas fa-hiking\" title=\"Hiking\"></i>\r\n        case 'music': \r\n            return <i className=\"fas fa-music\" title=\"Music\"></i>\r\n        case 'art':\r\n            return <i className=\"fas fa-palette\" title=\"Art\"></i>\r\n        case 'food':\r\n            return <i className=\"fas fa-utensils\" title=\"Food\"></i>\r\n        case 'nature':\r\n            return <i className=\"fas fa-tree\" title=\"Nature\"></i>\r\n        case 'photography':\r\n            return <i className=\"fas fa-camera-retro\" title=\"Nhotography\"></i>\r\n        case 'shoping':\r\n            return <i className=\"fas fa-shopping-bag\" title=\"Shoping\"></i>\r\n        default:\r\n            return <i className=\"fas fa-suitcase\"></i>\r\n    }\r\n}\r\nfunction getStarsForRating(rate) {\r\n\r\n    rate = Number(rate*2/10).toFixed(1)\r\n    rate = rate/2*10\r\n    switch (rate) {\r\n        case rate === 0.5 : //return half\r\n            return ( <span>\r\n                <i className=\"fas fa-star-half-alt\"></i>\r\n                <i className=\"far fa-star no\"></i>\r\n                <i className=\"far fa-star no\"></i>\r\n                <i className=\"far fa-star no\"></i>\r\n                <i className=\"far fa-star no\"></i>\r\n            </span>)\r\n        case 1: //return 1 \r\n            return ( <span>\r\n                <i className=\"fas fa-star yes\"></i>\r\n                <i className=\"far fa-star no\"></i>\r\n                <i className=\"far fa-star no\"></i>\r\n                <i className=\"far fa-star no\"></i>\r\n                <i className=\"far fa-star no\"></i>\r\n            </span>)\r\n        case 1.5:\r\n            return ( <span>\r\n                <i className=\"fas fa-star yes\"></i>\r\n                <i className=\"fas fa-star-half-alt\"></i>\r\n                <i className=\"far fa-star no\"></i>\r\n                <i className=\"far fa-star no\"></i>\r\n                <i className=\"far fa-star no\"></i>\r\n            </span>)\r\n        case 2:\r\n            return ( <span>\r\n                <i className=\"fas fa-star yes\"></i>\r\n                <i className=\"fas fa-star yes\"></i>\r\n                <i className=\"far fa-star no\"></i>\r\n                <i className=\"far fa-star no\"></i>\r\n                <i className=\"far fa-star no\"></i>\r\n            </span>)        \r\n        case 2.5:\r\n            return ( <span>\r\n                <i className=\"fas fa-star yes\"></i>\r\n                <i className=\"fas fa-star yes\"></i>\r\n                <i className=\"fas fa-star-half-alt\"></i>\r\n                <i className=\"far fa-star no\"></i>\r\n                <i className=\"far fa-star no\"></i>\r\n            </span>)\r\n            \r\n        case 3:\r\n            return ( <span>\r\n                <i className=\"fas fa-star yes\"></i>\r\n                <i className=\"fas fa-star yes\"></i>\r\n                <i className=\"fas fa-star yes\"></i>\r\n                <i className=\"far fa-star no\"></i>\r\n                <i className=\"far fa-star no\"></i>\r\n            </span>)        \r\n            \r\n        case 3.5:\r\n            return ( <span>\r\n                <i className=\"fas fa-star yes\"></i>\r\n                <i className=\"fas fa-star yes\"></i>\r\n                <i className=\"fas fa-star yes\"></i>\r\n                <i className=\"fas fa-star-half-alt\"></i>\r\n                <i className=\"far fa-star no\"></i>\r\n            </span>)\r\n            \r\n        case 4:\r\n            return ( <span>\r\n                <i className=\"fas fa-star yes\"></i>\r\n                <i className=\"fas fa-star yes\"></i>\r\n                <i className=\"fas fa-star yes\"></i>\r\n                <i className=\"fas fa-star yes\"></i>\r\n                <i className=\"far fa-star no\"></i>\r\n            </span>)        \r\n            \r\n        case 4.5:\r\n            return ( <span>\r\n                <i className=\"fas fa-star yes\"></i>\r\n                <i className=\"fas fa-star yes\"></i>\r\n                <i className=\"fas fa-star yes\"></i>\r\n                <i className=\"fas fa-star yes\"></i>\r\n                <i className=\"fas fa-star-half-alt\"></i>\r\n            </span>)\r\n            \r\n        case 5:\r\n            return ( <span>\r\n                <i className=\"fas fa-star yes\"></i>\r\n                <i className=\"fas fa-star yes\"></i>\r\n                <i className=\"fas fa-star yes\"></i>\r\n                <i className=\"fas fa-star yes\"></i>\r\n                <i className=\"fas fa-star yes\"></i>\r\n            </span>)        \r\n            \r\n        default: //empty stars\r\n            return ( <span>\r\n                <i className=\"far fa-star no\"></i>\r\n                <i className=\"far fa-star no\"></i>\r\n                <i className=\"far fa-star no\"></i>\r\n                <i className=\"far fa-star no\"></i>\r\n                <i className=\"far fa-star no\"></i>\r\n            </span>)        \r\n            \r\n    }\r\n}\r\n  \r\nfunction getRandomIntInclusive(min, max) {\r\n    min = Math.ceil(min);\r\n    max = Math.floor(max);\r\n    return Math.floor(Math.random() * (max - min + 1)) + min; //The maximum is inclusive and the minimum is inclusive \r\n}\r\n\r\nfunction makeId(length=3) {\r\n    var text = \"\";\r\n    var possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\r\n    for (var i = 0; i < length; i++) {\r\n        text += possible.charAt(Math.floor(Math.random() * possible.length));\r\n    }\r\n    return text;\r\n}","import React, { Fragment } from 'react'\r\nimport utilService from '../../services/utilService'\r\nimport './PlaceInfo.scss'\r\n\r\nfunction PlaceInfo ({placeInfo}) {\r\nif (!placeInfo) return ''\r\nvar url = placeInfo.website || placeInfo.url\r\n\r\nconst typesMap = placeInfo.types.map((type, idx) => {\r\n    if (idx === 3) return ''\r\n    if (idx === placeInfo.types.length-1 || idx === 3 ) {\r\n        return <span key={idx}>{type}.</span>\r\n    }\r\n    return <span key={idx}>{type}, </span>\r\n}) //only take first 4 types\r\n\r\nif (placeInfo.reviews) {\r\n    var reviewsMap = placeInfo.reviews.map((review, idx) => {\r\n        if (idx === 3) return ''\r\n        let date = new Date(review.time)\r\n        date = date.toLocaleDateString()\r\n        review.text = review.text.slice(0,150)\r\n        let lastDot = review.text.lastIndexOf('.')\r\n        review.text = review.text.slice(0,lastDot)\r\n        return <div key={idx}>\r\n                    {review.author_name}({date}): {review.text}...\r\n                    <hr/>\r\n                </div>\r\n        }) //only take first 4 reviews\r\n}\r\n    \r\n    return (\r\n        <Fragment>\r\n            {placeInfo &&\r\n            <section className=\"place-info\">\r\n                <h3>{placeInfo.formatted_address}</h3>\r\n                {placeInfo.types.length && typesMap}\r\n\r\n                {url &&\r\n                <a className=\"place-url\" href={url} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                    {url.slice(0,30)}...\r\n                </a>}               \r\n                {placeInfo.rating &&\r\n                <div className=\"rating-stars\">\r\n                    {utilService.getStarsForRating(placeInfo.rating)}\r\n                </div>}\r\n                {placeInfo.reviews &&\r\n                <div className=\"reviews-contianer\">\r\n                    <div className=\"reviews-title\">{placeInfo.reviews.length} reviews:</div>\r\n                    {reviewsMap}\r\n                </div>}\r\n            </section>}\r\n\r\n        </Fragment>\r\n    )\r\n}\r\n\r\n\r\nexport default PlaceInfo","import {Map, InfoWindow, Marker, GoogleApiWrapper, Polygon} from 'google-maps-react';\r\nimport React, { Component, Fragment } from 'react'\r\nimport { googleApiConfig } from '../../config/googleApiConfig'\r\nimport PlaceInfo from '../../components/placeInfo/PlaceInfo'\r\nimport './MapContainer.scss'\r\n \r\nexport class MapContainer extends Component {\r\n\r\nstate={center:{}, showInfo:false, selectedPlace:''}\r\n\r\ncomponentDidMount() {\r\n  if (this.props.initial) {    \r\n    navigator.geolocation.getCurrentPosition(\r\n        location => {\r\n          this.setState({center:{lat:location.coords.latitude, lng:location.coords.longitude}})\r\n        }, () => this.setState({center:this.props.itinerary[0].geometry.location}) )\r\n  } else this.setState({center:this.props.itinerary[0].geometry.location})\r\n}\r\n  \r\nonInfoWindowClose = (props,infoWindow, ev) => {\r\n  this.setState({showInfo:false, \r\n            activeMarker:null,\r\n            // selectedPlace: null\r\n            })\r\n}\r\nonMarkerClicked = (props,marker, ev) => {\r\n  this.setState({showInfo:true, activeMarker:marker,selectedPlace: props})\r\n}\r\n\r\n\r\nrender() {\r\n  const style = { width: '100%', height: '100%' }\r\n  const markersMap = this.props.itinerary.map(place => {\r\n      return <Marker\r\n        key={place.place_id || place.geometry.location.lng}\r\n        position={place.geometry.location}\r\n        onClick={this.onMarkerClicked}\r\n        icon= {this.props.icon}\r\n        placeInfo={place}/>\r\n      })\r\n  const paths = this.props.itinerary.map(place => place.geometry.location)\r\n\r\n  return (\r\n  <Fragment>\r\n    {this.state.center.lat &&\r\n    <Map google={this.props.google} zoom={this.props.zoom} style={style} \r\n      initialCenter={this.state.center || paths[0]} //should be handled\r\n      onClick={this.onMapClicked}>\r\n      \r\n      {!this.props.initial && markersMap}\r\n      \r\n      <InfoWindow onClose={this.onInfoWindowClose} \r\n                  visible={this.state.showInfo} \r\n                  marker={this.state.activeMarker}>\r\n        <PlaceInfo placeInfo={this.state.selectedPlace.placeInfo}/>\r\n      </InfoWindow>\r\n\r\n      {!this.props.initial && \r\n      <Polygon\r\n        paths={paths}\r\n        strokeColor=\"#0000FF\"\r\n        strokeOpacity={0.7}\r\n        strokeWeight={1}\r\n        fillColor=\"#0000FF\"\r\n        fillOpacity={0.2} />}\r\n    </Map>}\r\n  </Fragment>)\r\n} //end of render\r\n\r\n\r\n} //end of comp\r\n\r\nexport default GoogleApiWrapper(googleApiConfig)(MapContainer)\r\n\r\n\r\n","import React, { Component } from 'react'\r\n\r\nimport './ImgGallery.scss'\r\n\r\nclass ImgGallery extends Component {\r\n    \r\n    state = {imgs:[], currImgIdx:0}\r\n\r\n    componentDidMount() {\r\n        this.setState({currImgIdx:0})\r\n    }\r\n\r\n    nextImg = () => {\r\n        var nextIdx\r\n        if (this.state.currImgIdx === this.props.imgs.length-1) nextIdx = 0\r\n        else nextIdx = this.state.currImgIdx + 1\r\n        this.setState({currImgIdx:nextIdx})\r\n    }\r\n    prevImg = () => {\r\n        var prevtIdx\r\n        if (!this.state.currImgIdx) prevtIdx = this.props.imgs.length-1\r\n        else  prevtIdx = this.state.currImgIdx - 1\r\n        this.setState({currImgIdx:prevtIdx})\r\n    }\r\n\r\n    render() {\r\n        if (this.props.imgs) var imgSrc = this.props.imgs[this.state.currImgIdx]\r\n        return (\r\n            <section className=\"img-gallery\">\r\n            {imgSrc &&  <div className=\"gallery-container flex\">\r\n                <img className=\"trip-img\" src={imgSrc} alt=\"Trip\"/>\r\n                {this.props.imgs.length > 1 &&\r\n                <i className=\"fas fa-chevron-right next-img\" onClick={this.nextImg}></i>}\r\n                {this.props.imgs.length > 1 &&\r\n                <i className=\"fas fa-chevron-left prev-img\" onClick={this.prevImg}></i>}\r\n            </div>}\r\n        </section>\r\n        )\r\n    }\r\n        \r\n   \r\n}\r\n\r\nexport default ImgGallery","import React from 'react'\r\nimport './membersList.scss'\r\nfunction MembersList({ members, hideMembers }) {\r\n    const membersMap = members.map(member => {\r\n        return (<li key={member._id}> \r\n                    <img className=\"member-img\" src={member.img} alt=\"Traveler\"/>\r\n                    <p className=\"member-name\">{member.username}</p>\r\n                </li>)\r\n        }) \r\n\r\n    return (\r\n        <div className=\"members-container flex column align-center\">\r\n            {membersMap.length !==0 && \r\n            <h1>Trip Travellers:</h1>}\r\n            {!membersMap.length && \r\n            <h1>Be the first to join!</h1>}\r\n            <ul>{membersMap}</ul>\r\n            <i className=\"far fa-times-circle\" onClick={hideMembers}></i>\r\n        </div>)\r\n}\r\nexport default MembersList","\r\nimport React, { Component, Fragment } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { loadTrip, deleteTrip, saveTrip, loadTripMembers } from '../../actions/tripActions'\r\nimport { saveUser } from '../../actions/userActions'\r\nimport { updateLikeJoin } from '../../services/likeJoinService'\r\nimport UtilService from '../../services/utilService'\r\n\r\nimport './TripDetails.scss'\r\nimport MapContainer from '../../components/googleMaps/MapContainer'\r\nimport ImgGallery from '../../components/imgGallery/ImgGallery'\r\nimport MembersList from '../../components/membersList/MembersList'\r\nimport TripService from '../../services/tripService'\r\n\r\n\r\n\r\nclass TripDetails extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {showMembers:false}\r\n        this.deleteTrip = this.deleteTrip.bind(this)\r\n        this.goBack = this.goBack.bind(this)\r\n        this.handleLikeJoin = this.handleLikeJoin.bind(this)\r\n        this.showMembers = this.showMembers.bind(this)\r\n        this.tripId = this.props.match.params.id\r\n        this.props.loadTrip(this.tripId)\r\n    }\r\n    \r\n    componentDidMount() {\r\n        this.props.loadTrip(this.tripId)\r\n        .then(() => {})\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.props.loadTrip(null)\r\n    }\r\n\r\n    deleteTrip () {\r\n        this.props.deleteTrip(this.tripId, this.props)\r\n    }\r\n\r\n\r\n    goBack() {\r\n        // this.props.history.goBack()\r\n        this.props.history.push('/trip')\r\n    }\r\n\r\n    handleLikeJoin(ev) {\r\n        const actionType = ev.target.getAttribute('data-action-type')\r\n        updateLikeJoin(actionType, this.props.user, this.props.trip)\r\n        this.props.saveUser(this.props.user)\r\n        this.props.saveTrip(this.props.trip)\r\n    }\r\n    showMembers() {\r\n        //check if we already load members, if not. load them\r\n        if (this.props.trip.members && typeof(this.props.trip.members[0]) === 'string') {\r\n            this.props.loadTripMembers(this.props.trip)\r\n        }\r\n        this.setState({showMembers:true})\r\n    }\r\n  \r\n    \r\n    render() {\r\n        if (this.props.trip.itinerary) var tripImgs = TripService.getTripImgs(this.props.trip)\r\n        const linkToEdit =`/trip/edit/${this.tripId}`\r\n        if (this.props.trip.itinerary && this.props.trip.itinerary.length) {\r\n            var itineraryList = this.props.trip.itinerary.map((place, idx) => {\r\n                if (idx === this.props.trip.itinerary.length-1) {\r\n                    return <span key={idx}>{place.name}</span>\r\n                }\r\n                return <span key={idx}>{place.name}, </span>\r\n            })\r\n        }\r\n        return (\r\n        <section className = \"trip-details flex column\">\r\n            \r\n            <i className=\"fas fa-long-arrow-alt-left back\" \r\n                onClick={this.goBack} title=\"Trips\">\r\n            </i>\r\n            <div className=\"title-actions-container flex\">\r\n                <h2 className=\"trip-title\">{this.props.trip.country}</h2>\r\n                {this.props.user && this.props.trip.organizer &&\r\n                <div className=\"actions-container flex space-between\">\r\n                    {this.props.user._id && this.props.user._id !== this.props.trip.organizer._id &&\r\n                    <Fragment>\r\n                        <span data-action-type=\"like\" onClick={this.handleLikeJoin}>\r\n                            {this.props.trip.likes}\r\n                            <i className=\"far fa-thumbs-up\" title=\"like\" data-action-type=\"like\"></i>\r\n                        </span>\r\n                        <span data-action-type=\"join\" onClick={this.handleLikeJoin}>\r\n                            <i className=\"fas fa-user-plus\" title=\"Join\" data-action-type=\"join\"></i>\r\n                        </span>\r\n                    </Fragment>}\r\n                    {this.props.user._id === this.props.trip.organizer._id &&\r\n                    <Fragment>\r\n                    <span data-action-type=\"like\">\r\n                        {this.props.trip.likes}\r\n                        <i className=\"far fa-thumbs-up no-user\" title=\"like\" data-action-type=\"like\"></i>\r\n                    </span>\r\n                    <span>\r\n                        <Link to={linkToEdit}><i className=\"far fa-edit\"></i></Link>\r\n                        <i className=\"far fa-trash-alt\"onClick={this.deleteTrip}></i>\r\n                    </span>\r\n                    </Fragment>}\r\n          \r\n                </div>}\r\n            </div>\r\n                \r\n            {this.props.trip.organizer && this.props.trip.members &&\r\n            <Fragment>\r\n            <div className=\"main-info-container flex align-center space-between\">\r\n                {UtilService.getIconForType(this.props.trip.type)}\r\n                <span> | </span>\r\n                <div className=\"num\">\r\n                    {UtilService.toDatePickerFormat(this.props.trip.tripDate)}\r\n                </div>\r\n                <span> | </span>\r\n                <span className=\"see-members\" onClick={this.showMembers}> \r\n                    <i className=\"fas fa-users\" title=\"See who joined\"> </i>\r\n                    <span className=\"num\">\r\n                        {' ' +  this.props.trip.members.length} / {this.props.trip.maxMembers}\r\n                    </span>\r\n                </span>\r\n                {this.state.showMembers && !this.props.loading &&\r\n                <MembersList members={this.props.trip.members} \r\n                    hideMembers={() => this.setState({ showMembers:false })}/>}\r\n                <span> | </span>\r\n                <span>By:</span>\r\n                <img className=\"organizer-img\" src={this.props.trip.organizer.img} alt=\"User\"/>\r\n            </div>\r\n            <div className=\"more-info-container flex column\">\r\n                {/* <p>Description: {this.props.trip.desc}</p> */}\r\n                <span className=\"trip-info\"><h4>Itinerary:</h4> {itineraryList}.</span>\r\n            </div>\r\n\r\n            {tripImgs &&\r\n            <div className=\"img-container\">\r\n                <ImgGallery imgs={tripImgs}/>\r\n            </div>}\r\n            </Fragment>}\r\n            {this.props.trip.itinerary &&\r\n            <div className=\"map-wrapper-details\">\r\n                <MapContainer className=\"map-container\"\r\n                    trip={this.props.trip} \r\n                    itinerary={this.props.trip.itinerary} \r\n                    zoom={7} />\r\n            </div>}\r\n            <div className=\"app-bg-img\"></div>\r\n        </section>)\r\n    }\r\n}\r\n\r\nfunction mapStateToProps (state) {\r\n    return { trip: state.trip.currTrip, user:state.user, loading:state.util.loading }\r\n}\r\n\r\nconst mapDispatchToProps = {loadTrip, deleteTrip, saveUser, saveTrip, loadTripMembers}\r\n    \r\nexport default connect(mapStateToProps, mapDispatchToProps)(TripDetails)","import React from 'react'\r\n\r\nfunction ItineraryItem ({place,onRemoveFromItinerary}) {\r\n    return (\r\n        <div className=\"place-container\" key={place.place_id}>\r\n            <span>{place.name}</span>\r\n            <i className=\"far fa-minus-square remove\" \r\n                    value={place.place_id}\r\n                    onClick={onRemoveFromItinerary}>\r\n            </i>\r\n        </div>)\r\n}\r\n\r\nexport default ItineraryItem","import axios from 'axios'\r\nimport { googleApiConfig } from '../config/googleApiConfig'\r\nimport { BASE_PATH_MAPS } from '../config/consts'\r\n\r\nconst Axios = axios.create({\r\n    withCredentials: true,\r\n})\r\n\r\nexport default {\r\n    itineraryToCoords,\r\n    geoCodePlace,\r\n    getPlaceInfo\r\n}\r\n\r\n\r\nfunction itineraryToCoords (google, trip) {\r\n    const geocoder = new google.maps.Geocoder()\r\n    if (!trip.itinerary.length) {\r\n      return geoCodePlace(geocoder, trip.country).then(coord => {\r\n          return ([{ lat: coord.lat(), lng: coord.lng() }])\r\n      })\r\n    }\r\n    return Promise.all(trip.itinerary.map(geoCodePlace.bind(null,geocoder)))\r\n    .then(coords => {\r\n        return coords.map(coord => {\r\n            return { lat: coord.lat(), lng: coord.lng() }\r\n        })\r\n    })\r\n  }\r\n\r\nfunction geoCodePlace(geocoder, place) {\r\n    return new Promise((resolve, reject) =>\r\n      geocoder.geocode({ 'address': place }, (results, status) => {    \r\n        if (status === 'OK') return resolve(results[0].geometry.location);\r\n          else return reject('No latLng was found by address');\r\n      })\r\n    )\r\n  }\r\n\r\nfunction getPlaceInfo(placeId) {\r\n  const params = {\r\n    \"placeid\" : placeId,\r\n    \"fields\": [\"name\",\"rating\",\"formatted_phone_number\", \"url\", \"reviews\",\r\n                \"photo\", \"website\", \"type\", \"place_id\", \"geometry\", \"formatted_address\"],\r\n    \"key\":googleApiConfig.apiKey\r\n  }\r\n  return _infoRequest(params)\r\n    .then(info => info)\r\n    .catch(error => console.error('Error', error))\r\n}\r\n\r\n\r\nfunction _infoRequest(params) {\r\n  var strParams = '?'\r\n  for (var key in params) {\r\n    strParams += `${key}=${params[key]}&`\r\n  }\r\n  return Axios.get(`${BASE_PATH_MAPS}/'${strParams}'`)\r\n      .then(res => res.data.result)\r\n      .catch(err => {throw (err)})\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  \r\n\r\n\r\n\r\n","import React from 'react';\r\nimport PlacesAutocomplete, { geocodeByAddress } from 'react-places-autocomplete';\r\n \r\nclass LocationSearchInput extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = { address: '' }\r\n  }\r\n  componentDidMount() {\r\n    this.setState({address:this.props.value})\r\n  }\r\n \r\n  handleChange = address => {\r\n    this.setState({ address })\r\n  };\r\n \r\n  handleSelect = address => {\r\n    geocodeByAddress(address)\r\n      .then(results => {\r\n        this.setState({address:results[0].formatted_address})\r\n        this.props.onPlaceSelected(results[0])\r\n        if (this.props.className.includes('on-map')) {\r\n          setTimeout(() => {this.setState({ address: '' })},200)\r\n        }\r\n      })\r\n      .catch(error => console.error('Error', error))\r\n  };\r\n \r\n  render() {\r\n\r\n\r\n    return (\r\n      <PlacesAutocomplete\r\n        value={this.state.address}\r\n        onChange={this.handleChange}\r\n        onSelect={this.handleSelect}>\r\n        {({ getInputProps, suggestions, getSuggestionItemProps, loading }) => (\r\n          <div>\r\n            <input\r\n              {...getInputProps({\r\n                placeholder: this.props.placeholder,\r\n                className: this.props.className,\r\n              })}\r\n            />\r\n            <div className={'autocomplete-dropdown-container '+this.props.className}>\r\n              {loading && <div className='autocomplete-loading'>Loading...</div>}\r\n              \r\n              {suggestions.map(suggestion => {\r\n                return (\r\n                  <div className={'suggestions-container '+this.props.className}\r\n                    {...getSuggestionItemProps(suggestion)}>\r\n                    <span>{suggestion.description}</span>\r\n                  </div>)\r\n              })}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </PlacesAutocomplete>\r\n    )\r\n  }\r\n}\r\nexport default LocationSearchInput\r\n  \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\n// import {Map, InfoWindow, Marker, GoogleApiWrapper, Polygon} from 'google-maps-react';\r\nimport { GoogleApiWrapper } from 'google-maps-react';\r\nimport MapContainer from '../../components/googleMaps/MapContainer'\r\nimport defaultPlace from '../../data/initialPlace'\r\n\r\nimport BudgetRange from '../../components/budgetRange/BudgetRange'\r\nimport TripTypes from '../../components/tripTypes/TripTypes'\r\nimport ItineraryItem from '../../components/itineraryItem/ItineraryItem'\r\nimport TripService from '../../services/tripService'\r\nimport MapService from '../../services/mapService'\r\nimport UtilService from '../../services/utilService'\r\nimport { loadTrip, saveTrip } from '../../actions/tripActions'\r\nimport LocationSearchInput from '../../components/googleMaps/LocationSearchInput'\r\nimport { googleApiConfig } from '../../config/googleApiConfig'\r\nimport './TripEdit.scss'\r\n\r\nclass TripEdit extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = { itinerary:[], \r\n                        country: '', \r\n                        budget: {min:500, max:1800}, \r\n                        tripDate: '', \r\n                        maxMembers: 2,\r\n                        itineraryErr: false,\r\n                        tripDateErr: false }\r\n        this.tripId = this.props.match.params.id\r\n    }\r\n\r\n    componentDidMount() {\r\n        //need to follow url change!!\r\n        if (!this.props.user._id) this.props.history.push('/')\r\n        \r\n        \r\n        if (!this.tripId) {\r\n            const tripToEdit = TripService.getEmpty()\r\n            tripToEdit.members.push(this.props.user._id)\r\n            this.setState({...tripToEdit})\r\n        } else {\r\n            this.props.loadTrip(this.tripId)\r\n            .then(() => {\r\n                if (this.props.user._id !== this.props.trip.organizer._id) {\r\n                    this.props.history.push('/')\r\n                } else {\r\n                    const tripDate = UtilService.toDatePickerFormat(this.props.trip.tripDate)\r\n                    this.setState({...this.props.trip, tripDate})\r\n                }\r\n\r\n            })  \r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.props.loadTrip(null)\r\n    }\r\n\r\n    setCountry = (address) => {\r\n        this.setState({country: address.formatted_address})\r\n    }\r\n    handleInput = (ev) => {\r\n        this.setState({ tripDateErr: false })\r\n        if (ev.target.value) {\r\n            var value = (isNaN(ev.target.value)) ? ev.target.value : +ev.target.value\r\n            this.setState({[ev.target.name]:value})\r\n        }\r\n        else this.setState({[ev.target.name]:''})\r\n    }\r\n\r\n    handleSubmit = (ev) => {\r\n        if (ev) ev.preventDefault()\r\n        if (!this.state.itinerary.length) {\r\n            this.setState({ itineraryErr: true })\r\n            return; \r\n        }\r\n        if (!this.state.tripDate) {\r\n            this.setState({ tripDateErr: true })\r\n            return;\r\n        }\r\n        var tripToSubmit = {...this.state}\r\n        delete tripToSubmit.tripDateErr \r\n        delete tripToSubmit.itineraryErr \r\n        this.props.saveTrip(tripToSubmit)\r\n            .then(() => this.props.history.push(`/trip/${this.props.trip._id}`))\r\n    }\r\n    \r\n    addToItinerary = (newPlace) => {\r\n        this.setState({ itineraryErr: false })\r\n        if (!this.state.country) {\r\n            let countryNames = newPlace.address_components.pop()\r\n            if (countryNames.long_name === 'United States') {\r\n                let stateNames = newPlace.address_components.pop()\r\n                this.setState({country:countryNames.long_name + stateNames.long_name})\r\n            } else this.setState({country:countryNames.long_name})\r\n        }\r\n        MapService.getPlaceInfo(newPlace.place_id)\r\n        .then (placeInfo => {\r\n            var itinerary = this.state.itinerary\r\n            itinerary.push(placeInfo)            \r\n            this.setState({itinerary})\r\n        })\r\n        \r\n    }\r\n    \r\n    \r\n    removeFromItinerary = (ev) => {\r\n        ev.preventDefault()\r\n        var itinerary = this.state.itinerary\r\n        const idxToRemove = itinerary.findIndex(place => {\r\n            return place.place_id === ev.target.getAttribute('value')\r\n        })\r\n        itinerary.splice(idxToRemove, 1)\r\n        this.setState({itinerary})\r\n    }\r\n\r\n    render() {\r\n        if (this.state.itinerary && this.state.itinerary.length) {\r\n            var itineraryMap = this.state.itinerary.map(place => {\r\n                return <ItineraryItem key={place.place_id} \r\n                        place={place}\r\n                        onRemoveFromItinerary={this.removeFromItinerary}/>\r\n            })\r\n        }\r\n    \r\n        return (\r\n        <section className=\"edit-container\">\r\n        {!this.state._id && <h1>Create a Trip</h1>}\r\n        {this.state._id && <h1>Edit Your Trip</h1>}\r\n        {this.state.itineraryErr &&\r\n        <p className=\"err\">Must choose at least one place</p>}\r\n        {this.state.tripDateErr &&\r\n        <p className=\"err\">Must choose trip date</p>}\r\n        \r\n        <form>\r\n            <button onClick={this.handleSubmit}>Save</button>\r\n            <div className=\"top-container flex\">\r\n                {(this.state.country || !this.props.match.params.id) &&\r\n                <LocationSearchInput className='address-autocomplete-input edit-field'\r\n                            onPlaceSelected={this.setCountry} required\r\n                            value={this.state.country} placeholder='Country' />}\r\n                <TripTypes className=\"edit-field\" \r\n                    currType={this.state.type}\r\n                    onTypeSelected={type => this.setState({type})}/>\r\n                <input className=\"edit-field max-members\" type=\"number\" name=\"maxMembers\" \r\n                    value={this.state.maxMembers}\r\n                    placeholder=\"Max Travellers\"\r\n                    onChange={this.handleInput}/>\r\n                <input className=\"edit-field date\" type=\"date\" name=\"tripDate\" \r\n                    value={this.state.tripDate}\r\n                    onChange={this.handleInput}\r\n                    required/>\r\n            </div>\r\n            <BudgetRange className=\"budget-range\"\r\n                budget={this.state.budget} \r\n                onSetBudget={budget => this.setState({budget:budget})}/>\r\n          \r\n            <div className=\"bottom-container\">\r\n                <div className=\"places-list flex\">\r\n                    {this.state.itinerary.length !== 0 && itineraryMap}\r\n                </div>\r\n                <div className=\"search-places\">\r\n                    <LocationSearchInput className='address-autocomplete-input on-map'\r\n                        onPlaceSelected={this.addToItinerary}\r\n                        value='' placeholder='Search Places...'/>\r\n                </div>\r\n                {this.state.itinerary.length !== 0 &&\r\n                <div className=\"map-wrapper-edit\">\r\n                    <MapContainer className=\"map-container\"\r\n                            itinerary={this.state.itinerary}\r\n                            zoom={5}/>\r\n                </div>}\r\n                {this.state.itinerary.length === 0 &&\r\n                <div className=\"map-wrapper-edit\">\r\n                    <MapContainer className=\"map-container\"\r\n                            itinerary={[defaultPlace]}\r\n                            zoom={12}\r\n                            initial={true}/>\r\n            </div>}\r\n                \r\n            </div>\r\n            \r\n        </form>\r\n        <div className=\"app-bg-img\"></div>\r\n        </section>)\r\n    }\r\n}\r\n\r\nfunction mapStateToProps (state) {\r\n    return { trip: state.trip.currTrip, user:state.user }\r\n}\r\n\r\nconst mapDispatchToProps = {loadTrip, saveTrip}\r\n\r\n\r\n\r\n  \r\nexport default connect(mapStateToProps, mapDispatchToProps)(GoogleApiWrapper(googleApiConfig)(TripEdit))\r\n\r\n\r\n\r\n//icon={icon}\r\n// var icon = {\r\n//     url: \"https://maps.gstatic.com/mapfiles/api-3/images/spotlight-poi2_hdpi.png\", // url\r\n//     scaledSize: new this.props.google.maps.Size(21, 33), // scaled size\r\n//     origin: new this.props.google.maps.Point(0,0), // origin\r\n//     anchor: new this.props.google.maps.Point(11, 33) // anchor\r\n// }","\r\nimport React, { Component, Fragment } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport userSevice from '../../services/userService'\r\nimport TripList from '../../components/tripList/TripList'\r\n\r\n\r\nimport './profileDetails.scss'\r\nimport tripService from '../../services/tripService';\r\n\r\n\r\n\r\nclass MemberDetails extends Component {\r\n    \r\n    state = { loading:true }\r\n\r\n \r\n    \r\n    async componentDidMount() {\r\n        var profile = await userSevice.getById(this.props.match.params.id)\r\n        profile.trips = await tripService.query(profile.trips)\r\n        this.setState({ ...profile, loading:false })\r\n    }\r\n\r\n \r\n    \r\n    render() {\r\n        const profileUser = {...this.state}\r\n        delete profileUser.loading \r\n        const linkToEdit =`/user/edit/${this.state._id}`\r\n        return (\r\n        <section className = \"profile-details flex column\">\r\n            {!this.state.loading &&\r\n            <Fragment>\r\n                {this.state._id === this.props.user._id &&\r\n                <Link to={linkToEdit}><i className=\"far fa-edit\"></i></Link>}\r\n                <h1>{this.state.fName} {this.state.sName} Profile</h1>\r\n                <img className=\"profile-img\" src={this.state.img} alt=\"user\"/>\r\n                <TripList trips={this.state.trips} user={profileUser}/>\r\n            </Fragment>}\r\n        </section>)\r\n    }\r\n}\r\n\r\nfunction mapStateToProps (state) {\r\n    return { user:state.user }\r\n}\r\n\r\n    \r\nexport default connect(mapStateToProps)(MemberDetails)\r\n","\r\nimport React, { Component, Fragment } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { saveUser } from '../../actions/userActions'\r\n\r\n \r\n\r\nimport './profileEdit.scss'\r\n\r\n\r\n\r\nclass UserEdit extends Component {\r\n    \r\n    state = {}\r\n\r\n    componentDidMount() {\r\n        console.log(this.props.user._id)\r\n        console.log(this.props.match.params.id)\r\n        if (!this.props.user._id || this.props.user._id !== this.props.match.params.id) {\r\n            this.props.history.push('/')\r\n        }\r\n        this.setState({...this.props.user})\r\n    }\r\n\r\n \r\n  \r\n\r\n    handleInput = (ev) => {\r\n        // this.setState({ tripDateErr: false })\r\n        if (ev.target.value) {\r\n            var value = (isNaN(ev.target.value)) ? ev.target.value : +ev.target.value\r\n            this.setState({[ev.target.name]:value})\r\n        }\r\n        else this.setState({[ev.target.name]:''})\r\n    }\r\n    handleSubmit = (ev) => {\r\n        // var userToSubmit = {...this.state}\r\n        // delete tripToSubmit.tripDateErr \r\n        // delete tripToSubmit.itineraryErr \r\n        // this.props.saveUser(userToSubmit)\r\n        if (ev) ev.preventDefault()\r\n        this.props.saveUser({...this.state})\r\n            .then(() => this.props.history.push(`/user/${this.props.user._id}`))\r\n    }\r\n  \r\n    \r\n    render() {\r\n \r\n        return (\r\n        <section className = \"user-edit flex column\">\r\n            {this.state._id &&\r\n            <Fragment>\r\n                <h1>User Edit</h1>\r\n                <form onSubmit={this.handleSubmit}>\r\n                    <input type=\"text\" name=\"fName\" \r\n                        value={this.state.fName} \r\n                        placeholder=\"Name\"\r\n                        onChange={this.handleInput}/>\r\n                    <input type=\"text\" name=\"sName\" \r\n                        value={this.state.sName} \r\n                        placeholder=\"Surname\"\r\n                        onChange={this.handleInput}/>\r\n                    <button>Save</button>\r\n                </form>\r\n\r\n            </Fragment>}\r\n        </section>)\r\n    }\r\n}\r\n\r\nfunction mapStateToProps (state) {\r\n    return { user:state.user, loading:state.util.loading }\r\n}\r\n\r\nconst mapDispatchToProps = {saveUser}\r\n    \r\nexport default connect(mapStateToProps, mapDispatchToProps)(UserEdit)\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\n\r\nfunction mapStateToProps (state) {\r\n    return { navOpen:state.util.navOpen, user: state.user }\r\n}\r\n \r\nconst AppNav = (props) => {\r\n    const loggedUser=(props.user.username) ? true : false\r\n    let navClassName = 'nav-container flex align-center space-between'\r\n    navClassName += (props.navOpen) ? ' nav-open':' nav-closed'\r\n    return (\r\n        <nav className={navClassName} onClick={(ev) => props.navLinkClicked(ev)}>\r\n            <NavLink className=\"Nav_link\" \r\n                activeClassName=\"activeRoute\" \r\n                to=\"/home\">Home\r\n            </NavLink>\r\n            <NavLink className=\"Nav_link\"  \r\n                activeClassName=\"activeRoute\" \r\n                to=\"/trip\">Trips\r\n            </NavLink>\r\n            {loggedUser && \r\n            <NavLink className=\"Nav_link\"\r\n                activeClassName=\"activeRoute\" \r\n                to=\"/trip/edit\">Create!\r\n            </NavLink> }\r\n            {!loggedUser && \r\n            <NavLink className=\"Nav_link\"\r\n                activeClassName=\"activeRoute\" \r\n                to=\"/home\">Login\r\n            </NavLink> }\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default connect(mapStateToProps)(AppNav)","import React from 'react'\r\nimport AppNav from '../appNav/AppNav'\r\nimport './AppHeader.scss'\r\nimport { logout } from '../../actions/userActions'\r\nimport { Link } from 'react-router-dom'\r\nimport logoImg from '../../assets/logo.png'\r\nimport { connect } from 'react-redux'\r\n\r\nfunction mapStateToProps (state) {\r\n    return { navOpen:state.util.navOpen, user: state.user }\r\n}\r\n\r\nfunction AppHeader (props) {\r\n    const isMobile = window.document.body.clientWidth < 745    \r\n    const toggleNav = (ev) => {\r\n        ev.preventDefault()\r\n        props.dispatch({type:'toggleNav'})\r\n    }\r\n    \r\n    const onLogout = (ev) => {\r\n        ev.preventDefault()\r\n        props.dispatch(logout())\r\n    }\r\n    return (\r\n        <header className=\"header-container\">\r\n            {isMobile &&\r\n            <div className=\"hamburger flex align-center\" \r\n                onClick={toggleNav}>\r\n                <i className=\"fas fa-bars\"></i>\r\n            </div>}\r\n            <div className=\"header-items-container flex space-between\">\r\n            <div className=\"title-nav-container flex align-center space-between\">\r\n                <Link to=\"/\" className=\"flex align-center space-between\">\r\n                    <img className=\"logo-img\" src={logoImg} alt=\"\"/>\r\n                    <h1 className=\"logo-txt\">TRIP  UP</h1>\r\n                </Link>\r\n                    \r\n                <AppNav user={props.user} navLinkClicked={toggleNav} navOpen={props.navOpen}/>\r\n            </div>\r\n                { props.user._id && \r\n                <div className=\"user-area-link flex align-center\">\r\n                    <div className=\"name-logout-container flex space-between align-center\">\r\n                        <img className=\"user-img\" src={props.user.img} alt=\"User\"/>\r\n                        <p className=\"user-name\">{props.user.username[0]}</p>\r\n                        <a className=\"Nav_link logout\" href=\"/home\"\r\n                            onClick={onLogout}> Logout\r\n                        </a> \r\n                    </div>\r\n                </div>}\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps)(AppHeader)","import React, { Fragment } from 'react'\r\n// import { BrowserRouter, Route, Switch}  from 'react-router-dom'\r\nimport { HashRouter, Route, Switch}  from 'react-router-dom'\r\n// import { connect } from 'react-redux'\r\n\r\n\r\nimport HomePage from '../pages/homePage/HomePage'\r\nimport TripsPage from '../pages/tripsPage/TripsPage'\r\nimport TripDetails from '../pages/tripDetails/TripDetails'\r\nimport TripEdit from '../pages/tripEdit/TripEdit'\r\nimport ProfileDetails from '../pages/profileDetails/ProfileDetails'\r\nimport ProfileEdit from '../pages/profileEdit/ProfileEdit'\r\n\r\nimport AppHeader from './appHeader/AppHeader'\r\n\r\n// function mapStateToProps (state) {\r\n//     return { user: state.user }\r\n// }\r\n\r\nconst AppRouter = (props) => {\r\n    // const HomeRoute = () => {\r\n    //     return props.user._id ? \r\n    //     <Redirect to=\"/trip\"/> : <Redirect to=\"/home\"/>}\r\n        \r\n        return (\r\n            <HashRouter>\r\n            <Fragment>\r\n                <AppHeader/>\r\n                <div className=\"main-container\">\r\n                    <Switch>\r\n                        <Route exact path=\"/\" component={HomePage}/>\r\n                        <Route path=\"/home\" component={HomePage}/>\r\n                        <Route path=\"/login\" component={HomePage}/>\r\n                        <Route path=\"/signup\" component={HomePage}/>\r\n                        <Route path=\"/trip/edit/:id\" component={TripEdit}/>\r\n                        <Route exact path=\"/trip/edit\" component={TripEdit}/>\r\n                        <Route path=\"/trip/:id\" component={TripDetails}/>\r\n                        <Route exact path=\"/trip\" component={TripsPage}/>\r\n                        <Route path=\"/user/edit/:id\" component={ProfileEdit}/>\r\n                        <Route path=\"/user/:id\" component={ProfileDetails}/>\r\n                        {/* <HomeRoute exact path=\"/\" component={HomePage}/> */}\r\n                    </Switch>\r\n                </div>\r\n            </Fragment>\r\n        </HashRouter>)\r\n}\r\n\r\n\r\n// export default connect(mapStateToProps)(AppRouter) \r\nexport default AppRouter\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n//  {<PrivateRoute exact \r\n//     path=\"/edit/:id\" \r\n//     render = {(props) => <ContactEdit/>}\r\n// />\r\n\r\n\r\n// const PrivateRoute = () => {\r\n    //     return Store.userStore.user ? <Route/> : <Redirect to=\"/signup\" />}","import React, { PureComponent } from 'react'\r\nimport { connect } from 'react-redux'\r\n\r\n// import SocketService from './Services/SocketService'\r\nimport AppRouter from '../src/components/AppRouter'\r\nimport { loadUser } from './actions/userActions'\r\nimport './css/main.scss'\r\n\r\n\r\nclass App extends PureComponent{\r\n  \r\n  componentDidMount() {\r\n    this.props.dispatch(loadUser())\r\n  }\r\n\r\n  render() {\r\n    return (\r\n\r\n      <div className=\"App\">\r\n        <AppRouter/>\r\n        {/* <button onClick={() => TripService.createTrips()}>Create trips</button> */}\r\n        \r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default connect()(App)\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","\r\nconst initialState = {_id: null}\r\nexport const userReducer = (state=initialState, action) => {\r\n    switch (action.type) {\r\n\r\n        case 'signup':\r\n            break\r\n        case 'setCurrUser' || 'updateUser':\r\n            return ({...state, ...action.payload})\r\n        case 'updateUserLikesTrips':\r\n            return ({...state, likes:[...action.payload.likes], trips:[...action.payload.trips]})\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n","\r\nconst initialState = {currTrip:{}, trips:[]}\r\nexport const tripReducer = (state=initialState, action) => {\r\n    switch (action.type) {\r\n\r\n        case 'setTrips':\r\n            return ({...state, trips:[...action.payload]})\r\n        case 'setCurrTrip':\r\n            return ({...state, currTrip:{...action.payload}})\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n//examples for exports\r\n\r\n// export default (state={}, action) => {\r\n//     if (action.type === 'a') state = {...state, num:action.payload} \r\n//     return state\r\n// }\r\n// import userReducer from '../Reducers/userReducer'\r\n\r\n\r\n\r\n\r\n// const mainReducer = (state={}, action) => {\r\n    //     if (action.type === 'a') state = {...state, num:action.payload} \r\n    //     return state\r\n    // }\r\n    // export default {\r\n        //     mainReducer,\r\n        // }\r\n\r\n// import userReducer from '../Reducers/userReducer'\r\n// userReducer.mainReducer\r\n\r\n","\r\nconst initialState = {loading:false, navOpen: false}\r\nexport const utilReducer = (state=initialState, action) => {\r\n    switch (action.type) {\r\n\r\n        case 'loading':\r\n            if (action.payload) return ({...state, loading:true})\r\n            return ({...state, loading:false})\r\n        case 'toggleNav':\r\n            const newNavState = !state.navOpen\r\n            return ({ ...state, navOpen:newNavState })\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","import { applyMiddleware, combineReducers, createStore } from 'redux'\r\n// import logger from 'redux-logger'\r\nimport thunk from 'redux-thunk'\r\n\r\nimport { userReducer } from '../reducers/userReducer'\r\nimport { tripReducer } from '../reducers/tripReducer'\r\nimport { utilReducer } from '../reducers/utilReducer'\r\n\r\nconst reducers = combineReducers({\r\n    user: userReducer,\r\n    util: utilReducer, \r\n    trip: tripReducer\r\n})\r\n\r\n\r\n// const middleware = applyMiddleware(logger, thunk)\r\nconst middleware = applyMiddleware(thunk)\r\nconst store = createStore(reducers, middleware)\r\n\r\nexport default store","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\n\nimport { Provider } from 'react-redux'\nimport store from './store/store'\n\nReactDOM.render(\n    <Provider store={store}><App /></Provider>, \n    document.getElementById('root')\n)\n\n\n\n\n\n\n\n\n\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/logo.9e36fbb0.png\";"],"sourceRoot":""}